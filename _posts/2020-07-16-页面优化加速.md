# 页面优化加速

domain hash, cookie free, css sprites, js/css combine, max expires time, loading images on demand

## 线程

线程池在还没有任务到来之前，创建一定数量的线程，放入空闲队列中。这些线程都是处于睡眠状态，即未启动，不消耗CPU，而只是占用较小的内存空间。当客户端有一个新请求时，就会唤醒线程池中的某一个睡眠线程，让它来处理客户端的这个请求，当处理完这个请求后，线程又处于睡眠状态。
线程池能节约大量的的系统资源，使得更多的CPU时间和内存用来处理实际的商业应用，而不是频繁的线程创建与销毁

每个线程需要大约1MB内存，线程开的越多，消耗的内存也就越大。

在什么情况下使用线程池：
1.单个任务处理的时间比较短
2.将需处理的任务的数量大

HTTP侦听器
HTTP侦听器负责在HTTP服务器级别创建线程。这里发生的大多数处理是静态页面服务，或HTTP post / GET传递命令到后端。这是必须考虑的第一级线程配置。

Web容器
Web容器负责在应用程序服务器级别创建线程池。此级别的大多数处理包括servlet，JSP，EJB，动态页面创建和后端传递处理。Web容器是必须配置的第二级线程池配置。

ORB容器 ORB容器负责在对象级创建线程池。这里发生的大部分处理包括处理基于非Web的客户端。ORB容器是必须配置的线程池配置的第三级。

数据源
数据源级负责创建从数据库或“传统”系统访问的连接线程。这些线程是必须解决的第四级配置

## sprite

svg sprites优缺点：
svg sprites使用xlink:href #id的方式获取，便于维护和扩展，因为小图的id不会随便改动;
方便改变图片颜色，通过设置fill:颜色值，随意改变小图颜色;
IE9以上支持。
css sprites优缺点：
css sprites使用background-position不便于维护和扩展、定位不精确等问题，例如：在后期项目迭代中我们需要删除其中一个小图，那么排在它后面的小图位置都要移动，需要再次修改csss样式，或每次都要打开PS删除某图标再导出;
无法修改小图颜色，要UI设计师调整后替换，过程漫长效率低;
在移动端的大屏手机图标会模糊，影响体验。

