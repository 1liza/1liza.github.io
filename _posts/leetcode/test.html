<!DOCTYPE html>
<html lang="en">
<head></head>
<body>
    <input id='input'>

    <script>
        let input = document.getElementById('input');
        function throttle(fn, delay) {
            let last = new Date();
            let time = null;
            return function(value) {
                now = new Date();
                if (now-last>delay) {
                    clearTimeout(time);
                    last = now;
                    fn.call(this, value);
                } else {
                    clearTimeout(time)
                    time = setTimeout(()=>{
                        last = now;
                        fn.call(this, value
                    )}, delay)
                }
            }
        }
        function ajax(content) {
            console.log(content)
        }
        const throttleAjax = throttle(ajax, 500);
        input.onkeyup = function(e) {
            throttleAjax(e.target.value)
        }
    </script>
</body>
</html>